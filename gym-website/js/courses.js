// Здесь хранятся все данные о курсах - описание, особенности, теги
const plansData = {
  "training-beginner": {
    category: "План тренировок",
    title: "Для начинающих",
    description:
      "Идеальная программа для тех, кто только начинает свой путь в фитнесе. Пошаговое освоение техники выполнения упражнений, постепенный рост нагрузки и понятная система тренировок помогут вам безопасно и эффективно достичь своих целей.",
    features: [
      "3 тренировки в неделю с постепенным увеличением нагрузки",
      "Детальные видео-инструкции по технике выполнения упражнений",
      "Программа рассчитана на 12 недель с прогрессией",
      "Подходит для тренировок в зале и дома",
      "Включены базовые упражнения для всех групп мышц",
      "Рекомендации по разминке и заминке",
      "Поддержка от тренера через чат",
    ],
    tags: ["Для зала", "Для новичков", "Для дома"],
  },
  "training-fullbody": {
    category: "План тренировок",
    title: "Full-Body программа",
    description:
      "Мощная программа тренировок всего тела за три дня в неделю. Комплексная проработка всех мышечных групп с акцентом на развитие силы, выносливости и мышечного роста. Идеально подходит для среднего уровня подготовки.",
    features: [
      "3 тренировки в неделю (понедельник, среда, пятница)",
      "Проработка всех мышечных групп за одну тренировку",
      "Комбинация базовых и изолирующих упражнений",
      "Программа рассчитана на 8-12 недель",
      "Вариации упражнений для разнообразия",
      "Рекомендации по отдыху между подходами",
      "Трекинг прогресса и корректировка программы",
    ],
    tags: ["Для зала", "Средний уровень"],
  },
  "training-split": {
    category: "План тренировок",
    title: "Сплит программа",
    description:
      "Продвинутая split-программа для серьёзного роста мышечной массы. Три интенсивные тренировки в неделю с фокусом на отдельные группы мышц. Максимальная эффективность для опытных атлетов.",
    features: [
      "3 тренировки в неделю с разделением по группам мышц",
      "День 1: Грудь, трицепс, плечи",
      "День 2: Спина, бицепс",
      "День 3: Ноги, ягодицы, пресс",
      "Высокая интенсивность и объем тренировок",
      "Продвинутые техники: дроп-сеты, суперсеты",
      "Программа рассчитана на 10-16 недель",
      "Персональные рекомендации по питанию",
    ],
    tags: ["Для зала", "Для продвинутых"],
  },
  "nutrition-basic": {
    category: "План питания",
    title: "Базовая программа питания",
    description:
      "Сбалансированный план питания для начинающих. Правильное распределение белков, жиров и углеводов, контроль калорийности и основы здорового питания помогут вам заложить фундамент для достижения ваших фитнес-целей.",
    features: [
      "Расчет индивидуальной калорийности",
      "Распределение БЖУ под ваши цели",
      "Примерное меню на неделю с рецептами",
      "Список разрешенных и запрещенных продуктов",
      "Рекомендации по времени приема пищи",
      "Советы по приготовлению здоровых блюд",
      "Еженедельная корректировка плана",
    ],
    tags: ["Для зала", "Для новичков"],
  },
  "nutrition-mass": {
    category: "План питания",
    title: "Программа для набора массы",
    description:
      "Специализированный план питания для набора мышечной массы. Повышенное содержание белка, правильное распределение макронутриентов и стратегия питания для максимального роста мышц.",
    features: [
      "Высококалорийный план с профицитом калорий",
      "Увеличенное потребление белка (2-2.5г на кг веса)",
      "Оптимальное соотношение БЖУ для набора массы",
      "План питания на 4-6 приемов пищи в день",
      "Рекомендации по спортивному питанию",
      "Примеры высокобелковых блюд и перекусов",
      "Корректировка калорийности при плато",
    ],
    tags: ["Для зала", "Средний уровень"],
  },
  "nutrition-cut": {
    category: "План питания",
    title: "Программа для похудения",
    description:
      "Эффективный план питания для снижения веса с дефицитом калорий. Сохранение мышечной массы, ускорение метаболизма и здоровое похудение без вреда для здоровья.",
    features: [
      "Дефицит калорий с сохранением мышечной массы",
      "Высокобелковое питание для защиты мышц",
      "Контроль углеводов и жиров",
      "План питания на 5-6 приемов пищи",
      "Низкокалорийные рецепты и альтернативы",
      "Рекомендации по времени приема пищи",
      "Еженедельный контроль веса и корректировка",
    ],
    tags: ["Для зала", "Для новичков"],
  },
  "recovery-basic": {
    category: "План восстановления",
    title: "Базовое восстановление",
    description:
      "Основы восстановления после тренировок. Техники растяжки, базовые упражнения на гибкость и рекомендации по отдыху помогут вам быстрее восстанавливаться и избежать травм.",
    features: [
      "Комплекс упражнений на растяжку после тренировки",
      "Базовые техники расслабления мышц",
      "Рекомендации по длительности отдыха",
      "Упражнения на мобильность суставов",
      "Дыхательные техники для восстановления",
      "Рекомендации по сну и режиму дня",
      "План на 15-20 минут после каждой тренировки",
    ],
    tags: ["Для зала", "Для новичков"],
  },
  "recovery-advanced": {
    category: "План восстановления",
    title: "Продвинутое восстановление",
    description:
      "Комплексная программа восстановления для опытных атлетов. Миофасциальный релиз, мобильность суставов, техники расслабления и оптимизация сна для максимальной производительности.",
    features: [
      "Миофасциальный релиз с роллами и мячами",
      "Продвинутые техники растяжки (PNF, динамическая)",
      "Мобильность и стабильность суставов",
      "Техники медитации и расслабления",
      "Оптимизация режима сна и восстановления",
      "Питание для восстановления (timing, добавки)",
      "Интеграция с тренировочным процессом",
    ],
    tags: ["Для зала", "Средний уровень"],
  },
  "recovery-injury": {
    category: "План восстановления",
    title: "Восстановление после травм",
    description:
      "Специализированная программа восстановления после травм. Реабилитационные упражнения, профилактика повторных травм и безопасное возвращение к полноценным тренировкам.",
    features: [
      "Реабилитационные упражнения для конкретных травм",
      "Постепенное возвращение к нагрузкам",
      "Упражнения на укрепление слабых зон",
      "Техники для предотвращения повторных травм",
      "Рекомендации по модификации тренировок",
      "Консультации с физиотерапевтом (опционально)",
      "План восстановления на 4-12 недель",
    ],
    tags: ["Для зала", "Для новичков"],
  },
};

// все элементы
const modal = document.getElementById("planModal");
const modalClose = document.getElementById("modalClose");
const modalCloseBtn = document.getElementById("modalCloseBtn");
const modalCategory = document.getElementById("modalCategory");
const modalTitle = document.getElementById("modalTitle");
const modalDescription = document.getElementById("modalDescription");
const modalFeatures = document.getElementById("modalFeatures");
const modalTags = document.getElementById("modalTags");

// Функция открытия окна - заполняем данными выбранного курса
function openModal(planId) {
  const plan = plansData[planId];

  if (!plan) return;

  // Заполняем основную информацию о курсе
  modalCategory.textContent = plan.category;
  modalTitle.textContent = plan.title;
  modalDescription.textContent = plan.description;

  // Очищаем список особенностей и добавляем новые
  modalFeatures.innerHTML = "";
  for (let i = 0; i < plan.features.length; i++) {
    const li = document.createElement("li");
    li.textContent = plan.features[i];
    modalFeatures.appendChild(li);
  }

  // Очищаем теги и добавляем новые
  modalTags.innerHTML = "";
  plan.tags.forEach(function (tag) {
    const span = document.createElement("span");
    span.className = "modal-tag";
    span.textContent = tag;
    modalTags.appendChild(span);
  });

  // Показываем модальное окно и блокируем прокрутку страницы
  modal.classList.add("active");
  document.body.style.overflow = "hidden";
}

function closeModal() {
  modal.classList.remove("active");
  document.body.style.overflow = "";
}

// Когда страница загрузилась - настраиваем обработчики событий
document.addEventListener("DOMContentLoaded", function () {
  // Находим все кнопки "Подробнее" и вешаем на них обработчик
  const buttons = document.querySelectorAll(".btn-more");
  buttons.forEach(function (btn) {
    btn.addEventListener("click", function (e) {
      e.preventDefault();
      // Берем ID курса из атрибута data-plan
      const planId = btn.getAttribute("data-plan");
      if (planId) {
        openModal(planId);
      }
    });
  });

  modalClose.addEventListener("click", closeModal);
  modalCloseBtn.addEventListener("click", closeModal);

  modal.addEventListener("click", function (e) {
    if (e.target === modal) {
      closeModal();
    }
  });

  document.addEventListener("keydown", function (e) {
    if (e.key === "Escape" && modal.classList.contains("active")) {
      closeModal();
    }
  });
});
